#version 330

uniform mat4 m;
uniform mat4 v;
uniform mat4 p;
in vec3 a_pos;

// distance coloration
out float v_dist;

void main() {
  gl_Position = p * v * m * vec4(a_pos, 1.0);
  v_dist = -(v * m * vec4(a_pos, 1.0)).z;
}
